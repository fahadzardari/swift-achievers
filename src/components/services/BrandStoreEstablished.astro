---
import DefaultImage from "../../assets/services/amazon-store-creation/brand-store.png";
import Image from "astro/components/Image.astro";
const { image = DefaultImage } = Astro.props;
---

<section
  id="brand-store-section"
  class="container mx-auto flex flex-col items-center justify-center py-12 text-white"
>
  <h1
    id="brand-store-heading"
    class="3xl:text-[46px] text-center text-2xl font-semibold md:text-3xl lg:text-4xl xl:text-[40px]"
  >
    Brand Stores That We Have Established
  </h1>
  <p
    id="brand-store-description"
    class="mt-4 max-w-[821px] text-center text-xs lg:text-sm 2xl:text-base"
  >
    We have helped empower aspiring brands and businesses through our scalable
    dropshipping fulfillment service.
  </p>

  <div id="brand-store-image-wrapper" class="mt-11">
    <Image
      id="brand-store-image"
      src={image}
      alt="Brand stores established by Swift Achievers"
      class="rounded-lg"
      width={1200}
      height={600}
    />
  </div>
</section>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import SplitType from "split-type";

  document.addEventListener("DOMContentLoaded", () => {
    // Register ScrollTrigger plugin
    gsap.registerPlugin(ScrollTrigger);

    // Initialize SplitType for text elements (simpler approach)
    const brandStoreHeading = new SplitType("#brand-store-heading", {
      types: "lines",
    });

    // Create main timeline for the section
    const brandStoreTl = gsap.timeline({
      scrollTrigger: {
        trigger: "#brand-store-section",
        start: "top 80%",
        end: "center center",
        scrub: 0.6,
        toggleActions: "play none none reverse",
      },
    });

    // Simple heading animation - line by line
    brandStoreTl.fromTo(
      brandStoreHeading.lines,
      {
        opacity: 0,
        y: 20,
      },
      {
        opacity: 1,
        y: 0,
        duration: 0.5,
      },
      0,
    );

    // Simple description fade-in
    brandStoreTl.fromTo(
      "#brand-store-description",
      {
        opacity: 0,
        y: 15,
      },
      {
        opacity: 1,
        y: 0,
        duration: 0.5,
      },
      0.3,
    );

    // Simple image animation - just fade up
    brandStoreTl.fromTo(
      "#brand-store-image",
      {
        opacity: 0,
        y: 30,
      },
      {
        opacity: 1,
        y: 0,
        duration: 0.8,
      },
      0.5,
    );

    // Add a simple hover effect on the image
    const imageWrapper = document.getElementById("brand-store-image-wrapper");
    if (imageWrapper) {
      imageWrapper.addEventListener("mouseenter", () => {
        gsap.to("#brand-store-image", {
          scale: 1.02,
          duration: 0.4,
        });
      });

      imageWrapper.addEventListener("mouseleave", () => {
        gsap.to("#brand-store-image", {
          scale: 1,
          duration: 0.4,
        });
      });
    }
  });
</script>

<style>
  #brand-store-image-wrapper {
    overflow: hidden;
    border-radius: 8px;
  }

  #brand-store-image {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.4s ease;
  }
</style>
